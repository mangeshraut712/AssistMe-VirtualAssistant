import React, { useState } from 'react';
import { LineChart, Line, BarChart, Bar, ScatterChart, Scatter, RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Cell, PieChart, Pie } from 'recharts';
import { ArrowLeft, TrendingUp, Zap, DollarSign, Clock, Database, Filter, Download } from 'lucide-react';

const BENCHMARK_DATA = [
    // Free Models (Working and Verified)
    {
        id: 'meta-llama/llama-3.3-70b-instruct:free',
        name: 'Meta Llama 3.3 70B Instruct (Free)',
        provider: 'Meta',
        intelligence: 82, speed: 210, latency: 0.45, price: 0, context: 131000,
        category: ['Instruction', 'Reasoning'], free: true, tokens: '70B',
        quality: 86, reasoning: 82, coding: 74, multimodal: 0, accuracy: 82
    },
    {
        id: 'google/gemma-3-27b-it:free',
        name: 'Google Gemma 3 27B IT (Free)',
        provider: 'Google',
        intelligence: 78, speed: 240, latency: 0.38, price: 0, context: 200000,
        category: ['Instruction', 'Fast'], free: true, tokens: '27B',
        quality: 82, reasoning: 76, coding: 70, multimodal: 85, accuracy: 80
    },
    {
        id: 'nvidia/nemotron-nano-9b-v2:free',
        name: 'NVIDIA Nemotron Nano 9B V2 (Free)',
        provider: 'NVIDIA',
        intelligence: 65, speed: 260, latency: 0.35, price: 0, context: 32000,
        category: ['Fast', 'Compact'], free: true, tokens: '9B',
        quality: 70, reasoning: 60, coding: 62, multimodal: 0, accuracy: 74
    },
    {
        id: 'nvidia/nemotron-nano-12b-v2-vl:free',
        name: 'NVIDIA Nemotron Nano 12B VL (Free)',
        provider: 'NVIDIA',
        intelligence: 72, speed: 230, latency: 0.4, price: 0, context: 32000,
        category: ['Multimodal', 'Fast'], free: true, tokens: '12B',
        quality: 78, reasoning: 70, coding: 68, multimodal: 82, accuracy: 77
    },
    {
        id: 'meituan/longcat-flash-chat:free',
        name: 'Meituan LongCat Flash Chat (Free)',
        provider: 'Meituan',
        intelligence: 68, speed: 280, latency: 0.32, price: 0, context: 1000000,
        category: ['Fast', 'Context'], free: true, tokens: '7B',
        quality: 72, reasoning: 66, coding: 60, multimodal: 0, accuracy: 75
    },
    {
        id: 'alibaba/tongyi-deepresearch-30b-a3b:free',
        name: 'Alibaba Tongyi DeepResearch 30B (Free)',
        provider: 'Alibaba',
        intelligence: 80, speed: 190, latency: 0.52, price: 0, context: 128000,
        category: ['Reasoning', 'Research'], free: true, tokens: '30B',
        quality: 84, reasoning: 86, coding: 72, multimodal: 0, accuracy: 78
    },

    // Premium Models (Fallback)
    {
        id: 'x-ai/grok-code-fast-1',
        name: 'xAI Grok Code Fast',
        provider: 'xAI',
        intelligence: 86, speed: 200, latency: 0.4, price: 0.5, context: 128000,
        category: ['Coding', 'Fast'], free: false, tokens: 'Unknown',
        quality: 88, reasoning: 85, coding: 95, multimodal: 0, accuracy: 86
    },
    {
        id: 'google/gemini-2.5-flash',
        name: 'Google Gemini 2.5 Flash',
        provider: 'Google',
        intelligence: 89, speed: 220, latency: 0.35, price: 0.1, context: 1000000,
        category: ['Multimodal', 'Fast'], free: false, tokens: 'Unknown',
        quality: 90, reasoning: 88, coding: 86, multimodal: 96, accuracy: 87
    },
    {
        id: 'anthropic/claude-3-haiku',
        name: 'Anthropic Claude 3 Haiku',
        provider: 'Anthropic',
        intelligence: 84, speed: 180, latency: 0.45, price: 0.25, context: 200000,
        category: ['General'], free: false, tokens: 'Unknown',
        quality: 86, reasoning: 84, coding: 80, multimodal: 90, accuracy: 83
    },
    {
        id: 'openai/gpt-4o-mini',
        name: 'OpenAI GPT-4o Mini',
        provider: 'OpenAI',
        intelligence: 87, speed: 190, latency: 0.4, price: 0.15, context: 128000,
        category: ['General'], free: false, tokens: 'Unknown',
        quality: 88, reasoning: 86, coding: 84, multimodal: 92, accuracy: 85
    },
    {
        id: 'perplexity/sonar',
        name: 'Perplexity Sonar',
        provider: 'Perplexity',
        intelligence: 85, speed: 150, latency: 0.6, price: 0.8, context: 128000,
        category: ['Search'], free: false, tokens: '70B',
        quality: 87, reasoning: 85, coding: 75, multimodal: 0, accuracy: 84
    }
];

const BenchmarkPage = () => {
    const [filterFree, setFilterFree] = useState(null);
    const [sortBy, setSortBy] = useState('intelligence');
    const [selectedModels, setSelectedModels] = useState(BENCHMARK_DATA.map(m => m.id));

    const filteredData = BENCHMARK_DATA
        .filter(m => filterFree === null || m.free === filterFree)
        .filter(m => selectedModels.includes(m.id))
        .sort((a, b) => sortBy === 'price' ? a[sortBy] - b[sortBy] : b[sortBy] - a[sortBy]);

    const modelComparison = BENCHMARK_DATA.map(m => ({
        name: m.name.split(' ')[0],
        Intelligence: m.intelligence,
        Speed: m.speed / 5, // Scale down for visualization
        Quality: m.quality,
        Reasoning: m.reasoning,
        Coding: m.coding
    }));

    const pricePerformance = BENCHMARK_DATA.map(m => ({
        name: m.name.split(' ').slice(0, 2).join(' '),
        intelligence: m.intelligence,
        price: m.price,
        speed: m.speed,
        free: m.free
    }));

    const providerData = Object.entries(
        BENCHMARK_DATA.reduce((acc, m) => {
            if (!acc[m.provider]) acc[m.provider] = { count: 0, avgIntelligence: 0, models: [] };
            acc[m.provider].count++;
            acc[m.provider].models.push(m);
            return acc;
        }, {})
    ).map(([provider, data]) => ({
        provider,
        count: data.count,
        avgIntelligence: data.models.reduce((sum, m) => sum + m.intelligence, 0) / data.count,
        avgSpeed: data.models.reduce((sum, m) => sum + m.speed, 0) / data.count
    }));

    const COLORS = ['#e27152', '#f2b544', '#3f74b5', '#cfd1c6', '#d7c7a9', '#d6d4cf', '#9ca3af'];

    // Mock API analytics data (middleware already installed)
    const apiSummary = {
        successRate: 85.6,
        requests: 38778,
        users: 3009,
        latency: { p50: 154, p25: 93, p75: 253 },
    };

    const apiActivity = Array.from({ length: 60 }, (_, i) => ({
        minute: i + 1,
        requests: 180 + Math.round(Math.sin(i / 4) * 40) + (i === 25 ? 150 : 0),
        latency: 120 + Math.round(Math.cos(i / 5) * 30) + (i === 45 ? 80 : 0),
        success: 80 + Math.round(Math.sin(i / 6) * 5) - (i === 45 ? 15 : 0),
    }));

    const endpointStats = [
        { name: 'POST /api/chat/text', value: 13401 },
        { name: 'POST /api/chat/stream', value: 11012 },
        { name: 'POST /api/knowledge/search', value: 3629 },
        { name: 'POST /api/ai4bharat/translate', value: 2784 },
        { name: 'POST /api/images/generate', value: 1572 },
        { name: 'POST /api/tts/synthesize', value: 1538 },
        { name: 'GET /api/models', value: 1226 },
    ];

    const deviceStats = [
        { name: 'Chrome', value: 46.9 },
        { name: 'Safari', value: 18.9 },
        { name: 'Firefox', value: 16 },
        { name: 'Postman', value: 13 },
        { name: 'Curl', value: 5.2 },
    ];

    const toggleModel = (id) => {
        setSelectedModels(prev =>
            prev.includes(id) ? prev.filter(m => m !== id) : [...prev, id]
        );
    };

    return (
        <div className="min-h-screen bg-background text-foreground">
            {/* Header */}
            <header className="sticky top-0 z-50 border-b border-border bg-card/95 backdrop-blur-sm">
                <div className="max-w-7xl mx-auto px-6 py-4">
                    <div className="flex items-center justify-between">
                        <div className="flex items-center gap-4">
                            <a href="/" className="p-2 hover:bg-accent rounded-lg transition-colors">
                                <ArrowLeft className="h-5 w-5" />
                            </a>
                            <div>
                                <h1 className="text-2xl font-bold">Model Benchmarks</h1>
                                <p className="text-sm text-muted-foreground">
                                    Comprehensive analysis of AI model performance
                                </p>
                            </div>
                        </div>

                        <button className="flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors">
                            <Download className="h-4 w-4" />
                            Export Data
                        </button>
                    </div>
                </div>
            </header>

            {/* Summary Cards */}
            <div className="max-w-7xl mx-auto px-6 py-6">
                <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                    <div className="p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 rounded-xl">
                        <div className="flex items-center gap-3 mb-2">
                            <TrendingUp className="h-5 w-5 text-blue-500" />
                            <span className="text-sm font-semibold text-muted-foreground">TOP INTELLIGENCE</span>
                        </div>
                        <p className="text-2xl font-bold">{BENCHMARK_DATA.sort((a, b) => b.intelligence - a.intelligence)[0].name.split(' ')[0]}</p>
                        <p className="text-sm text-muted-foreground">{BENCHMARK_DATA.sort((a, b) => b.intelligence - a.intelligence)[0].intelligence} score</p>
                    </div>

                    <div className="p-6 bg-gradient-to-br from-yellow-500/10 to-yellow-600/5 border border-yellow-500/20 rounded-xl">
                        <div className="flex items-center gap-3 mb-2">
                            <Zap className="h-5 w-5 text-yellow-500" />
                            <span className="text-sm font-semibold text-muted-foreground">FASTEST</span>
                        </div>
                        <p className="text-2xl font-bold">{BENCHMARK_DATA.sort((a, b) => b.speed - a.speed)[0].name.split(' ')[0]}</p>
                        <p className="text-sm text-muted-foreground">{BENCHMARK_DATA.sort((a, b) => b.speed - a.speed)[0].speed} t/s</p>
                    </div>

                    <div className="p-6 bg-gradient-to-br from-green-500/10 to-green-600/5 border border-green-500/20 rounded-xl">
                        <div className="flex items-center gap-3 mb-2">
                            <Clock className="h-5 w-5 text-green-500" />
                            <span className="text-sm font-semibold text-muted-foreground">LOWEST LATENCY</span>
                        </div>
                        <p className="text-2xl font-bold">{BENCHMARK_DATA.sort((a, b) => a.latency - b.latency)[0].name.split(' ').slice(0, 2).join(' ')}</p>
                        <p className="text-sm text-muted-foreground">{BENCHMARK_DATA.sort((a, b) => a.latency - b.latency)[0].latency}s</p>
                    </div>

                    <div className="p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/5 border border-purple-500/20 rounded-xl">
                        <div className="flex items-center gap-3 mb-2">
                            <DollarSign className="h-5 w-5 text-purple-500" />
                            <span className="text-sm font-semibold text-muted-foreground">BEST VALUE</span>
                        </div>
                        <p className="text-2xl font-bold">{BENCHMARK_DATA.filter(m => m.free).sort((a, b) => b.intelligence - a.intelligence)[0].name.split(' ')[0]}</p>
                        <p className="text-sm text-muted-foreground">Free Tier</p>
                    </div>
                </div>

                {/* Filters */}
                <div className="flex items-center gap-4 mb-8 p-4 bg-card rounded-xl border border-border">
                    <Filter className="h-5 w-5 text-muted-foreground" />
                    <div className="flex items-center gap-2">
                        <button
                            onClick={() => setFilterFree(null)}
                            className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${filterFree === null ? 'bg-primary text-primary-foreground' : 'bg-muted hover:bg-muted/80'
                                }`}
                        >
                            All Models
                        </button>
                        <button
                            onClick={() => setFilterFree(true)}
                            className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${filterFree === true ? 'bg-green-500 text-white' : 'bg-muted hover:bg-muted/80'
                                }`}
                        >
                            ðŸ†“ Free Only
                        </button>
                        <button
                            onClick={() => setFilterFree(false)}
                            className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${filterFree === false ? 'bg-blue-500 text-white' : 'bg-muted hover:bg-muted/80'
                                }`}
                        >
                            ðŸ’Ž Paid Only
                        </button>
                    </div>

                    <div className="ml-auto flex items-center gap-2">
                        <span className="text-sm text-muted-foreground">Sort by:</span>
                        <select
                            value={sortBy}
                            onChange={(e) => setSortBy(e.target.value)}
                            className="px-3 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                        >
                            <option value="intelligence">Intelligence</option>
                            <option value="speed">Speed</option>
                            <option value="latency">Latency</option>
                            <option value="price">Price</option>
                        </select>
                    </div>
                </div>

                {/* API Analytics Snapshot */}
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-4 mb-8">
                    <div className="p-5 rounded-xl border border-border bg-neutral-900 text-white">
                        <div className="flex items-center justify-between">
                            <span className="text-sm text-neutral-400">Success rate</span>
                            <span className="text-xs text-emerald-400">Live</span>
                        </div>
                        <p className="text-3xl font-semibold mt-2">{apiSummary.successRate}%</p>
                        <div className="mt-3 flex gap-2 text-xs text-neutral-400">
                            <span>Requests {apiSummary.requests.toLocaleString()}</span>
                            <span className="text-emerald-400">â–²</span>
                        </div>
                    </div>
                    <div className="p-5 rounded-xl border border-border bg-neutral-900 text-white">
                        <div className="flex items-center justify-between">
                            <span className="text-sm text-neutral-400">Users</span>
                            <span className="text-xs text-emerald-400">+3.3%</span>
                        </div>
                        <p className="text-3xl font-semibold mt-2">{apiSummary.users.toLocaleString()}</p>
                        <div className="mt-3 text-xs text-neutral-400">Active in last 24h</div>
                    </div>
                    <div className="p-5 rounded-xl border border-border bg-neutral-900 text-white">
                        <div className="flex items-center justify-between">
                            <span className="text-sm text-neutral-400">Response times (ms)</span>
                        </div>
                        <div className="flex gap-4 mt-3">
                            <div>
                                <p className="text-lg font-semibold text-emerald-400">{apiSummary.latency.p25}</p>
                                <p className="text-xs text-neutral-400">LQ</p>
                            </div>
                            <div>
                                <p className="text-lg font-semibold text-white">{apiSummary.latency.p50}</p>
                                <p className="text-xs text-neutral-400">Median</p>
                            </div>
                            <div>
                                <p className="text-lg font-semibold text-yellow-300">{apiSummary.latency.p75}</p>
                                <p className="text-xs text-neutral-400">UQ</p>
                            </div>
                        </div>
                    </div>
                </div>

                {/* API Activity */}
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                    <div className="lg:col-span-2 p-6 bg-card rounded-xl border border-border">
                        <h3 className="text-lg font-bold mb-3 text-white">Activity</h3>
                        <ResponsiveContainer width="100%" height={240}>
                            <BarChart data={apiActivity}>
                                <CartesianGrid strokeDasharray="3 3" stroke="#222" />
                                <XAxis dataKey="minute" stroke="#888" hide />
                                <YAxis stroke="#888" />
                                <Tooltip contentStyle={{ backgroundColor: '#0f172a', borderRadius: '12px' }} />
                                <Bar dataKey="requests" fill="#10b981" radius={[4, 4, 0, 0]} />
                            </BarChart>
                        </ResponsiveContainer>
                        <ResponsiveContainer width="100%" height={160}>
                            <BarChart data={apiActivity}>
                                <XAxis dataKey="minute" stroke="#888" hide />
                                <YAxis stroke="#888" />
                                <Tooltip contentStyle={{ backgroundColor: '#0f172a', borderRadius: '12px' }} />
                                <Bar dataKey="latency" fill="#9ca3af" radius={[4, 4, 0, 0]} />
                            </BarChart>
                        </ResponsiveContainer>
                        <ResponsiveContainer width="100%" height={80}>
                            <BarChart data={apiActivity}>
                                <XAxis dataKey="minute" stroke="#888" hide />
                                <YAxis stroke="#888" hide />
                                <Tooltip contentStyle={{ backgroundColor: '#0f172a', borderRadius: '12px' }} />
                                <Bar dataKey="success" fill="#10b981" />
                            </BarChart>
                        </ResponsiveContainer>
                    </div>

                    <div className="p-6 bg-card rounded-xl border border-border space-y-4">
                        <h3 className="text-lg font-bold mb-3 text-white">Endpoints</h3>
                        <ResponsiveContainer width="100%" height={240}>
                            <BarChart data={endpointStats} layout="vertical" margin={{ left: 50 }}>
                                <XAxis type="number" stroke="#888" />
                                <YAxis type="category" dataKey="name" stroke="#888" width={120} />
                                <Tooltip contentStyle={{ backgroundColor: '#0f172a', borderRadius: '12px' }} />
                                <Bar dataKey="value" radius={[0, 6, 6, 0]}>
                                    {endpointStats.map((entry, index) => (
                                        <Cell key={entry.name} fill={index < 2 ? '#10b981' : index < 4 ? '#9ca3af' : '#ef4444'} />
                                    ))}
                                </Bar>
                            </BarChart>
                        </ResponsiveContainer>

                        <h3 className="text-lg font-bold text-white">Devices</h3>
                        <ResponsiveContainer width="100%" height={200}>
                            <PieChart>
                                <Pie data={deviceStats} dataKey="value" nameKey="name" innerRadius={50} outerRadius={80} paddingAngle={2}>
                                    {deviceStats.map((entry, index) => (
                                        <Cell key={`cell-${entry.name}`} fill={['#10b981', '#f59e0b', '#3b82f6', '#ef4444', '#9ca3af'][index % 5]} />
                                    ))}
                                </Pie>
                                <Tooltip contentStyle={{ backgroundColor: '#0f172a', borderRadius: '12px' }} />
                            </PieChart>
                        </ResponsiveContainer>
                    </div>
                </div>

                {/* Accuracy Bar (inspired by provided example) */}
                <div className="p-6 bg-card rounded-xl border border-border mb-8">
                    <div className="flex items-center justify-between mb-4">
                        <div>
                            <h3 className="text-lg font-bold">Software Engineering</h3>
                            <p className="text-sm text-muted-foreground">SWE-bench style accuracy (n=500)</p>
                        </div>
                    </div>
                    <ResponsiveContainer width="100%" height={320}>
                        <BarChart data={BENCHMARK_DATA.slice(0, 7)}>
                            <CartesianGrid strokeDasharray="3 3" stroke="hsl(var(--border))" />
                            <XAxis dataKey="name" tick={{ fontSize: 12, fill: 'hsl(var(--foreground))' }} />
                            <YAxis domain={[60, 90]} tickFormatter={(v) => `${v}%`} tick={{ fontSize: 12, fill: 'hsl(var(--foreground))' }} />
                            <Tooltip
                                formatter={(v) => `${v}%`}
                                labelStyle={{ color: 'hsl(var(--foreground))' }}
                                contentStyle={{ backgroundColor: 'hsl(var(--card))', borderColor: 'hsl(var(--border))', borderRadius: '12px', color: 'hsl(var(--foreground))' }}
                            />
                            <Bar dataKey="accuracy" radius={[6, 6, 0, 0]} label={{ position: 'top', formatter: (v) => `${v}%`, fill: 'hsl(var(--foreground))' }}>
                                {BENCHMARK_DATA.slice(0, 7).map((entry, index) => (
                                    <Cell key={`cell-${entry.id}`} fill={COLORS[index % COLORS.length]} />
                                ))}
                            </Bar>
                        </BarChart>
                    </ResponsiveContainer>
                </div>

                {/* Chart Grid */}
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    {/* Intelligence Comparison */}
                    <div className="p-6 bg-card rounded-xl border border-border">
                        <h3 className="text-lg font-bold mb-4">Intelligence vs Speed</h3>
                        <ResponsiveContainer width="100%" height={300}>
                            <ScatterChart>
                                <CartesianGrid strokeDasharray="3 3" stroke="#333" />
                                <XAxis dataKey="intelligence" name="Intelligence" stroke="#888" />
                                <YAxis dataKey="speed" name="Speed (t/s)" stroke="#888" />
                                <Tooltip
                                    contentStyle={{ backgroundColor: '#1a1a1a', border: '1px solid #333', borderRadius: '8px' }}
                                    cursor={{ strokeDasharray: '3 3' }}
                                />
                                <Legend />
                                <Scatter name="Free Models" data={pricePerformance.filter(d => d.free)} fill="#10b981" />
                                <Scatter name="Paid Models" data={pricePerformance.filter(d => !d.free)} fill="#3b82f6" />
                            </ScatterChart>
                        </ResponsiveContainer>
                    </div>

                    {/* Multi-metric Radar */}
                    <div className="p-6 bg-card rounded-xl border border-border">
                        <h3 className="text-lg font-bold mb-4">Multi-Dimensional Analysis</h3>
                        <ResponsiveContainer width="100%" height={300}>
                            <RadarChart data={modelComparison.slice(0, 5)}>
                                <PolarGrid stroke="#333" />
                                <PolarAngleAxis dataKey="name" stroke="#888" />
                                <PolarRadiusAxis stroke="#888" />
                                <Radar name="Performance" dataKey="Intelligence" stroke="#8884d8" fill="#8884d8" fillOpacity={0.3} />
                                <Radar name="Quality" dataKey="Quality" stroke="#82ca9d" fill="#82ca9d" fillOpacity={0.3} />
                                <Tooltip contentStyle={{ backgroundColor: '#1a1a1a', border: '1px solid #333', borderRadius: '8px' }} />
                                <Legend />
                            </RadarChart>
                        </ResponsiveContainer>
                    </div>

                    {/* Provider Comparison */}
                    <div className="p-6 bg-card rounded-xl border border-border">
                        <h3 className="text-lg font-bold mb-4">Provider Performance</h3>
                        <ResponsiveContainer width="100%" height={300}>
                            <BarChart data={providerData}>
                                <CartesianGrid strokeDasharray="3 3" stroke="#333" />
                                <XAxis dataKey="provider" stroke="#888" />
                                <YAxis stroke="#888" />
                                <Tooltip contentStyle={{ backgroundColor: '#1a1a1a', border: '1px solid #333', borderRadius: '8px' }} />
                                <Legend />
                                <Bar dataKey="avgIntelligence" fill="#8884d8" name="Avg Intelligence" />
                                <Bar dataKey="avgSpeed" fill="#82ca9d" name="Avg Speed (scaled)" />
                            </BarChart>
                        </ResponsiveContainer>
                    </div>

                    {/* Speed Distribution */}
                    <div className="p-6 bg-card rounded-xl border border-border">
                        <h3 className="text-lg font-bold mb-4">Speed Distribution</h3>
                        <ResponsiveContainer width="100%" height={300}>
                            <BarChart data={filteredData}>
                                <CartesianGrid strokeDasharray="3 3" stroke="#333" />
                                <XAxis dataKey="name" stroke="#888" angle={-45} textAnchor="end" height={100} />
                                <YAxis stroke="#888" />
                                <Tooltip contentStyle={{ backgroundColor: '#1a1a1a', border: '1px solid #333', borderRadius: '8px' }} />
                                <Bar dataKey="speed" name="Speed (t/s)">
                                    {filteredData.map((entry, index) => (
                                        <Cell key={`cell-${index}`} fill={entry.free ? '#10b981' : '#3b82f6'} />
                                    ))}
                                </Bar>
                            </BarChart>
                        </ResponsiveContainer>
                    </div>
                </div>

                {/* Detailed Table */}
                <div className="mt-8 p-6 bg-card rounded-xl border border-border">
                    <h3 className="text-lg font-bold mb-6">Detailed Model Comparison</h3>
                    <div className="overflow-x-auto">
                        <table className="w-full">
                            <thead>
                                <tr className="border-b border-border">
                                    <th className="text-left py-3 px-4 font-semibold">Model</th>
                                    <th className="text-left py-3 px-4 font-semibold">Provider</th>
                                    <th className="text-center py-3 px-4 font-semibold">Intelligence</th>
                                    <th className="text-center py-3 px-4 font-semibold">Speed</th>
                                    <th className="text-center py-3 px-4 font-semibold">Latency</th>
                                    <th className="text-center py-3 px-4 font-semibold">Price</th>
                                    <th className="text-center py-3 px-4 font-semibold">Context</th>
                                    <th className="text-center py-3 px-4 font-semibold">Activity</th>
                                </tr>
                            </thead>
                            <tbody>
                                {filteredData.map((model, idx) => (
                                    <tr key={idx} className="border-b border-border/50 hover:bg-accent/30 transition-colors">
                                        <td className="py-4 px-4">
                                            <div>
                                                <p className="font-semibold">{model.name}</p>
                                                <div className="flex gap-1 mt-1">
                                                    {model.category.map((cat, i) => (
                                                        <span key={i} className="px-2 py-0.5 bg-muted text-xs rounded-full">
                                                            {cat}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                        </td>
                                        <td className="py-4 px-4 text-sm">{model.provider}</td>
                                        <td className="py-4 px-4 text-center">
                                            <span className="px-3 py-1 bg-blue-500/10 text-blue-500 rounded-full font-semibold">
                                                {model.intelligence}
                                            </span>
                                        </td>
                                        <td className="py-4 px-4 text-center text-sm">{model.speed} t/s</td>
                                        <td className="py-4 px-4 text-center text-sm">{model.latency}s</td>
                                        <td className="py-4 px-4 text-center">
                                            {model.free ? (
                                                <span className="px-3 py-1 bg-green-500/10 text-green-500 rounded-full text-sm font-medium">
                                                    Free
                                                </span>
                                            ) : (
                                                <span className="text-sm">${model.price}/M</span>
                                            )}
                                        </td>
                                        <td className="py-4 px-4 text-center text-sm">{(model.context / 1000).toFixed(0)}k</td>
                                        <td className="py-4 px-4 text-center text-sm text-muted-foreground">{model.tokens}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>

                {/* Footer */}
                <div className="mt-8 p-4 bg-muted/30 rounded-xl text-center">
                    <p className="text-sm text-muted-foreground">
                        ðŸ“Š Data sourced from OpenRouter activity & Artificial Analysis â€¢ Updated {new Date().toLocaleDateString()} â€¢ {BENCHMARK_DATA.length} models tracked
                    </p>
                </div>
            </div>
        </div>
    );
};

export default BenchmarkPage;
