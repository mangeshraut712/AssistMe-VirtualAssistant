<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AssistMe · Intelligent Workspace</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3ClinearGradient id='g'%3E%3Cstop offset='0' stop-color='%2310a37f'/%3E%3Cstop offset='1' stop-color='%233b82f6'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='32' height='32' rx='8' fill='%230b1728'/%3E%3Cpath d='M16 6c5.5 0 10 4.5 10 10s-4.5 10-10 10S6 21.5 6 16 10.5 6 16 6zm0 3a7 7 0 100 14 7 7 0 000-14z' fill='url(%23g)'/%3E%3Ccircle cx='16' cy='16' r='3.5' fill='%23fff'/%3E%3C/svg%3E">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="benchmark.css">
    <meta name="assistme-api-base" content="https://assistme-virtualassistant-production.up.railway.app">
</head>
<body>
    <div class="app" id="app">
        <aside class="sidebar" id="sidebar" aria-label="Conversation history">
            <div class="sidebar-header">
                <button class="sidebar-btn primary" id="newChatBtn">
                    <i class="fa-solid fa-square-plus" aria-hidden="true"></i>
                    <span>New chat</span>
                </button>
                <button class="icon-btn mobile-only" id="sidebarCloseBtn" aria-label="Close sidebar">
                    <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                </button>
            </div>

            <div class="sidebar-search">
                <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
                <input type="search" id="conversationSearch" placeholder="Search conversations" autocomplete="off">
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    <span>Recent</span>
                    <button class="text-btn" id="clearHistoryBtn">Clear</button>
                </div>
                <nav class="conversation-list" id="conversations" aria-live="polite"></nav>
            </div>

            <div class="sidebar-section pinned" id="pinnedSection">
                <div class="sidebar-section-header">
                    <span>Pinned prompts</span>
                </div>
                <div class="pinned-list" id="pinnedPrompts">
                    <button class="pinned-item" data-prompt="Summarise the latest meeting notes and highlight key decisions.">
                        <i class="fa-solid fa-thumbtack"></i>
                        <span>Summarise meeting notes</span>
                    </button>
                    <button class="pinned-item" data-prompt="Draft an email updating the team on the project status towards the Q4 launch.">
                        <i class="fa-solid fa-thumbtack"></i>
                        <span>Project status update</span>
                    </button>
                    <button class="pinned-item" data-prompt="Generate a list of experiment ideas to increase onboarding completion by 15%.">
                        <i class="fa-solid fa-thumbtack"></i>
                        <span>Activation experiment ideas</span>
                    </button>
                </div>
            </div>

            <div class="sidebar-footer">
                <button class="sidebar-footer-btn" id="ai4bharatBtn">
                    <i class="fa-solid fa-language" aria-hidden="true"></i>
                    <span>AI4Bharat</span>
                </button>
                <button class="sidebar-footer-btn" id="settingsBtn">
                    <i class="fa-solid fa-circle-user" aria-hidden="true"></i>
                    <span>Workspace settings</span>
                </button>
                <button class="sidebar-footer-btn" id="themeToggleBtn">
                    <i class="fa-solid fa-moon" aria-hidden="true"></i>
                    <span>Toggle theme</span>
                </button>
            </div>
        </aside>

        <main class="workspace" id="workspace">
            <header class="workspace-header">
                <div class="workspace-brand">
                    <button class="icon-btn" id="sidebarToggle" aria-label="Toggle sidebar">
                        <i class="fa-solid fa-bars" aria-hidden="true"></i>
                    </button>
                    <div class="brand-text">
                        <span class="brand-title">AssistMe</span>
                        <span class="brand-subtitle">AI assistant</span>
                    </div>
                </div>
                <div class="workspace-actions">
                    <div class="model-switcher" id="modelSelector">
                        <button class="model-button" id="modelButton" aria-haspopup="listbox" aria-expanded="false">
                            <div class="model-primary">
                                <span class="model-name">Select a model</span>
                                <span class="model-hint">Pick any model to start chatting</span>
                            </div>
                            <i class="fa-solid fa-chevron-down" aria-hidden="true"></i>
                        </button>
                        <div class="model-dropdown" id="modelDropdown" role="listbox">
                            <!-- Models populated by JavaScript -->
                        </div>
                    </div>
                    <button class="icon-btn benchmark-btn" id="benchmarkBtn" aria-haspopup="dialog">
                        <i class="fa-solid fa-gauge-high" aria-hidden="true"></i>
                        <span>Benchmark</span>
                    </button>
                </div>
            </header>

            <section class="assistant-status" id="assistantStatus">
                <span class="status-dot live"></span>
                <span>All systems operational · Responses stream in realtime</span>
            </section>

            <section class="welcome" id="welcomePanel">
                <div class="welcome-header">
                    <h1>How can AssistMe help today?</h1>
                    <p>Ask about strategy, code, designs or data. Pick a starter prompt to move faster.</p>
                </div>
                <div class="welcome-grid" id="starterGrid">
                    <button class="welcome-card" data-prompt="Turn these product notes into a crisp launch brief with next steps.">
                        <span class="card-category">Product</span>
                        <p>Turn these product notes into a launch brief with next steps.</p>
                        <span class="card-hint">Generates project-ready structure</span>
                    </button>
                    <button class="welcome-card" data-prompt="Review this Python function for performance issues and suggest fixes.">
                        <span class="card-category">Code review</span>
                        <p>Review this Python function for performance issues and fix suggestions.</p>
                        <span class="card-hint">Highlights risks and improvements</span>
                    </button>
                    <button class="welcome-card" data-prompt="Create a 4-week content calendar targeting growth-stage founders.">
                        <span class="card-category">Marketing</span>
                        <p>Create a 4-week content calendar targeting growth-stage founders.</p>
                        <span class="card-hint">Outputs channel plan & cadence</span>
                    </button>
                    <button class="welcome-card" data-prompt="Explain this block of TypeScript to a new engineer on our team.">
                        <span class="card-category">Explain</span>
                        <p>Explain this block of TypeScript to a new engineer joining the team.</p>
                        <span class="card-hint">Provides step-by-step clarity</span>
                    </button>
                </div>
            </section>

            <section class="chat-thread" id="chatThread" aria-live="polite">
                <div class="message-stream" id="chatMessages"></div>
            </section>

            <footer class="composer" id="composer">
                <div class="composer-toolbar">
                    <div class="composer-suggestions" id="inlineSuggestions">
                        <button class="suggestion-pill" data-prompt="Summarise this conversation into key bullet points.">Summarise</button>
                        <button class="suggestion-pill" data-prompt="Generate follow-up tasks from this chat.">Follow-up tasks</button>
                        <button class="suggestion-pill" data-prompt="Turn this into customer-friendly language.">Customer friendly</button>
                    </div>
                    <div class="composer-metrics">
                        <span id="latencyMetric">—</span>
                        <span id="tokenMetric">— tokens</span>
                    </div>
                </div>

                    <div class="composer-box">
                        <button class="icon-btn" id="uploadBtn" title="Attach files">
                            <i class="fa-solid fa-plus" aria-hidden="true"></i>
                        </button>
                        <div class="textarea-wrapper">
                            <div class="composer-quick" id="composerQuick">
                                <button type="button" class="quick-btn" data-format="bold" title="Bold (⌘/Ctrl + B)">
                                    <i class="fa-solid fa-bold" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="quick-btn" data-format="italic" title="Italic (⌘/Ctrl + I)">
                                    <i class="fa-solid fa-italic" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="quick-btn" data-format="code" title="Inline code (⌘/Ctrl + E)">
                                    <i class="fa-solid fa-code" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="quick-btn" data-format="clear" title="Clear input">
                                    <i class="fa-solid fa-eraser" aria-hidden="true"></i>
                                </button>
                            </div>
                            <textarea id="messageInput" rows="1" placeholder="Message AssistMe" autocomplete="off"></textarea>
                            <div class="input-hint desktop-hint">Shift + Enter for newline · Tap send to submit</div>
                            <div class="input-hint mobile-hint">Tap mic to speak · Tap paper plane to send</div>
                        </div>
                        <div class="composer-actions">
                            <button class="icon-btn" id="voiceBtn" title="Start voice input">
                                <i class="fa-solid fa-microphone" aria-hidden="true"></i>
                            </button>
                            <button class="send-btn disabled" id="sendButton" disabled aria-label="Send message">
                                <i class="fa-solid fa-paper-plane" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <div class="composer-footnote">
                        AssistMe can make mistakes. Consider checking important info.
                </div>
            </footer>
        </main>
    </div>

    <div class="toast-container" id="toastContainer" aria-live="polite"></div>

    <div class="modal" id="ai4bharatModal" aria-hidden="true">
        <div class="modal-backdrop" id="ai4bharatBackdrop"></div>
        <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="ai4bharatTitle" aria-describedby="ai4bharatSummary">
            <div class="modal-header">
                <div>
                    <h2 id="ai4bharatTitle">AI4Bharat - Indian Language Support</h2>
                    <p id="ai4bharatSummary">Translate, transliterate, and detect languages across 10+ Indian languages.</p>
                </div>
                <button class="modal-close" id="ai4bharatClose" aria-label="Close AI4Bharat panel">
                    <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="ai4bharat-tabs" id="ai4bharatTabs" role="tablist">
                    <button type="button" class="ai4bharat-tab active" data-tab="translate" role="tab">Translate</button>
                    <button type="button" class="ai4bharat-tab" data-tab="detect" role="tab">Detect Language</button>
                    <button type="button" class="ai4bharat-tab" data-tab="transliterate" role="tab">Transliterate</button>
                </div>

                <div class="ai4bharat-panel active" id="translatePanel">
                    <div class="ai4bharat-form">
                        <div class="form-group">
                            <label for="translateSource">Source Language</label>
                            <select id="translateSource" class="form-select">
                                <option value="en">English</option>
                                <option value="hi">Hindi (हिंदी)</option>
                                <option value="ta">Tamil (தமிழ்)</option>
                                <option value="te">Telugu (తెలుగు)</option>
                                <option value="ka">Kannada (ಕನ್ನಡ)</option>
                                <option value="ml">Malayalam (മലയാളം)</option>
                                <option value="bn">Bengali (বাংলা)</option>
                                <option value="gu">Gujarati (ગુજરાતી)</option>
                                <option value="mr">Marathi (मराठी)</option>
                                <option value="pa">Punjabi (ਪੰਜਾਬੀ)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="translateTarget">Target Language</label>
                            <select id="translateTarget" class="form-select">
                                <option value="hi">Hindi (हिंदी)</option>
                                <option value="ta">Tamil (தமிழ்)</option>
                                <option value="te">Telugu (తెలుగు)</option>
                                <option value="ka">Kannada (ಕನ್ನಡ)</option>
                                <option value="ml">Malayalam (മലയാളം)</option>
                                <option value="bn">Bengali (বাংলা)</option>
                                <option value="gu">Gujarati (ગુજરાતી)</option>
                                <option value="mr">Marathi (मराठी)</option>
                                <option value="pa">Punjabi (ਪੰਜਾਬੀ)</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="translateInput">Text to Translate</label>
                            <textarea id="translateInput" class="form-textarea" placeholder="Enter text to translate..." rows="3"></textarea>
                        </div>
                        <button type="button" id="translateBtn" class="btn-primary">Translate</button>
                        <div class="result-section" id="translateResult" style="display: none;">
                            <h4>Translation Result:</h4>
                            <div class="result-content" id="translateOutput"></div>
                        </div>
                    </div>
                </div>

                <div class="ai4bharat-panel" id="detectPanel">
                    <div class="ai4bharat-form">
                        <div class="form-group">
                            <label for="detectInput">Text to Analyze</label>
                            <textarea id="detectInput" class="form-textarea" placeholder="Enter text to detect language..." rows="3"></textarea>
                        </div>
                        <button type="button" id="detectBtn" class="btn-primary">Detect Language</button>
                        <div class="result-section" id="detectResult" style="display: none;">
                            <h4>Detection Result:</h4>
                            <div class="result-content" id="detectOutput"></div>
                        </div>
                    </div>
                </div>

                <div class="ai4bharat-panel" id="transliteratePanel">
                    <div class="ai4bharat-form">
                        <div class="form-group">
                            <label for="transliterateSource">Source Script</label>
                            <select id="transliterateSource" class="form-select">
                                <option value="hi">Devanagari (Hindi)</option>
                                <option value="en">Roman (English)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="transliterateTarget">Target Script</label>
                            <select id="transliterateTarget" class="form-select">
                                <option value="en">Roman (English)</option>
                                <option value="hi">Devanagari (Hindi)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="transliterateInput">Text to Transliterate</label>
                            <textarea id="transliterateInput" class="form-textarea" placeholder="Enter text to transliterate..." rows="3"></textarea>
                        </div>
                        <button type="button" id="transliterateBtn" class="btn-primary">Transliterate</button>
                        <div class="result-section" id="transliterateResult" style="display: none;">
                            <h4>Transliteration Result:</h4>
                            <div class="result-content" id="transliterateOutput"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="benchmarkModal" aria-hidden="true">
        <div class="modal-backdrop" id="benchmarkBackdrop"></div>
        <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="benchmarkTitle" aria-describedby="benchmarkSummary">
            <div class="modal-header">
                <div>
                    <h2 id="benchmarkTitle">Model benchmarking lab</h2>
                    <p id="benchmarkSummary">Compare latency, throughput, and accelerator recommendations before you run long GPU jobs.</p>
                </div>
                <button class="modal-close" id="benchmarkClose" aria-label="Close benchmarking insights">
                    <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-content benchmark-dashboard">
                <section class="benchmark-hero">
                    <div class="hero-content">
                        <div class="hero-badge">
                            <i class="fa-solid fa-rocket"></i> 2025 Benchmark Suite
                        </div>
                        <h3>Run AssistMe benchmark locally or in the cloud</h3>
                        <p>Real-time GPU metrics, cost tracking, and performance insights for 10+ AI models</p>
                        <div class="benchmark-command-line">
                            <code id="benchmarkCommand">assistme-bench run --scenario general --output logs/general.json</code>
                            <button class="command-copy" id="benchmarkCopy" aria-label="Copy benchmark command">
                                <i class="fa-solid fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <div class="benchmark-features">
                            <div class="feature-pill">
                                <i class="fa-solid fa-microchip"></i>
                                <span>A100 / H100 / RTX 4090</span>
                            </div>
                            <div class="feature-pill">
                                <i class="fa-solid fa-chart-line"></i>
                                <span>Real-time metrics</span>
                            </div>
                            <div class="feature-pill">
                                <i class="fa-solid fa-file-export"></i>
                                <span>CSV & Grafana export</span>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="benchmark-scenarios">
                    <div class="section-header">
                        <div>
                            <h3>Performance Comparison</h3>
                            <p>Real-world benchmarks across different workloads</p>
                        </div>
                        <a class="doc-link" href="https://github.com/mangeshraut712/AssistMe-VirtualAssistant/wiki/Benchmarking" target="_blank" rel="noopener">
                            <span>Documentation</span>
                            <i class="fa-solid fa-arrow-up-right-from-square"></i>
                        </a>
                    </div>
                    
                    <div class="scenario-tabs" id="benchmarkTabs" role="tablist">
                        <button type="button" class="benchmark-tab active" data-scenario="general" role="tab" aria-selected="true">
                            <i class="fa-solid fa-comment"></i>
                            <div class="tab-content">
                                <span class="tab-title">General Q&A</span>
                                <span class="tab-desc">256 tokens</span>
                            </div>
                        </button>
                        <button type="button" class="benchmark-tab" data-scenario="coding" role="tab" aria-selected="false">
                            <i class="fa-solid fa-code"></i>
                            <div class="tab-content">
                                <span class="tab-title">Coding</span>
                                <span class="tab-desc">512 tokens</span>
                            </div>
                        </button>
                        <button type="button" class="benchmark-tab" data-scenario="creative" role="tab" aria-selected="false">
                            <i class="fa-solid fa-wand-magic-sparkles"></i>
                            <div class="tab-content">
                                <span class="tab-title">Creative</span>
                                <span class="tab-desc">512 tokens</span>
                            </div>
                        </button>
                    </div>

                    <p class="scenario-description" id="benchmarkDescription"></p>

                    <div class="benchmark-stats">
                        <div class="kpi-card">
                            <p>Avg. throughput</p>
                            <strong id="benchmarkThroughputAvg">—</strong>
                            <span>tokens/sec</span>
                        </div>
                        <div class="kpi-card">
                            <p>Latency swing</p>
                            <strong id="benchmarkLatencyDelta">—</strong>
                            <span>seconds range</span>
                        </div>
                        <div class="kpi-card">
                            <p>Recommended GPU</p>
                            <strong id="benchmarkGpuBadge">—</strong>
                            <span>from scenario</span>
                        </div>
                    </div>

                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-header">
                                <i class="fa-solid fa-gauge-high"></i>
                                <span>Latency Comparison</span>
                            </div>
                            <div class="chart-container">
                                <canvas id="latencyChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-header">
                                <i class="fa-solid fa-tachometer-alt"></i>
                                <span>Throughput Analysis</span>
                            </div>
                            <div class="chart-container">
                                <canvas id="throughputChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="performance-table">
                        <div class="table-header">
                            <h4>Detailed Metrics</h4>
                            <div class="table-actions">
                                <button class="table-action" title="Export data">
                                    <i class="fa-solid fa-download"></i>
                                </button>
                                <button class="table-action" title="Refresh data">
                                    <i class="fa-solid fa-rotate"></i>
                                </button>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table class="benchmark-table">
                                <thead>
                                    <tr>
                                        <th><i class="fa-solid fa-brain"></i> Model</th>
                                        <th><i class="fa-solid fa-clock"></i> Latency</th>
                                        <th><i class="fa-solid fa-bolt"></i> Throughput</th>
                                        <th><i class="fa-solid fa-database"></i> Context</th>
                                        <th><i class="fa-solid fa-star"></i> Best For</th>
                                        <th><i class="fa-solid fa-microchip"></i> GPU</th>
                                    </tr>
                                </thead>
                                <tbody id="benchmarkTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section class="accelerator-section">
                    <div class="section-header">
                        <div>
                            <h3><i class="fa-solid fa-server"></i> GPU Recommendations</h3>
                            <p>Optimized hardware configurations for your workload</p>
                        </div>
                    </div>
                    <div class="accelerator-grid" id="benchmarkAccelerators"></div>
                    <div class="quick-links">
                        <a href="https://cloud.google.com/compute/docs/gpus" target="_blank" class="quick-link">
                            <i class="fa-brands fa-google"></i>
                            <span>Google Cloud GPUs</span>
                        </a>
                        <a href="https://www.latent.space/p/benchmarking" target="_blank" class="quick-link">
                            <i class="fa-solid fa-flask"></i>
                            <span>Methodology</span>
                        </a>
                        <a href="https://openrouter.ai/docs#benchmarks" target="_blank" class="quick-link">
                            <i class="fa-solid fa-chart-bar"></i>
                            <span>Model Stats</span>
                        </a>
                    </div>
                </section>

                <section class="protips-section">
                    <div class="section-header">
                        <h3><i class="fa-solid fa-lightbulb"></i> Pro Tips</h3>
                    </div>
                    <div class="tips-grid">
                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fa-solid fa-fire"></i>
                            </div>
                            <div class="tip-content">
                                <h5>Warm-up Phase</h5>
                                <p>Run 3–5 warm-up requests before recording latency to avoid cold-start spikes</p>
                            </div>
                        </div>
                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fa-solid fa-sliders"></i>
                            </div>
                            <div class="tip-content">
                                <h5>GPU Testing</h5>
                                <p>Use <code>--accelerator=H100</code> to test across different GPUs with same prompts</p>
                            </div>
                        </div>
                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fa-solid fa-chart-column"></i>
                            </div>
                            <div class="tip-content">
                                <h5>Balanced Metrics</h5>
                                <p>Record both streaming latency and total completion time for accurate comparison</p>
                            </div>
                        </div>
                        <div class="tip-card">
                            <div class="tip-icon">
                                <i class="fa-solid fa-tag"></i>
                            </div>
                            <div class="tip-content">
                                <h5>Version Tracking</h5>
                                <p>Tag runs with <code>--label "v2025.02"</code> to track performance regressions</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script defer src="https://cdn.jsdelivr.net/npm/marked@12.0.2/marked.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" crossorigin="anonymous"></script>
    <script>
        (function () {
            const meta = document.querySelector('meta[name="assistme-api-base"]');
            const isLocal = ['localhost', '127.0.0.1', '0.0.0.0'].includes(window.location.hostname);
            if (!isLocal && meta && meta.content) {
                window.ASSISTME_API_BASE = meta.content.trim();
            }
        }());
    </script>
    <script defer type="module" src="script.js"></script>
</body>
</html>
