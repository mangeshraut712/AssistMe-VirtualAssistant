# AssistMe Backend Dependencies - 2025 Edition
# Optimized for FastAPI 0.115+ and Pydantic v2

# ============================================
# Core Framework
# ============================================
fastapi>=0.115.0,<0.116.0
uvicorn[standard]>=0.32.0,<0.33.0
pydantic>=2.10.0,<3.0.0
pydantic-settings>=2.6.0,<3.0.0
email-validator>=2.2.0

# ============================================
# Database & ORM
# ============================================
sqlalchemy>=2.0.36,<2.1.0
alembic>=1.14.0,<2.0.0
# PostgreSQL (async-ready)
psycopg[binary,pool]>=3.2.3,<4.0.0
asyncpg>=0.30.0,<1.0.0  # Async PostgreSQL driver

# ============================================
# Caching & Message Queue
# ============================================
redis[hiredis]>=5.2.0,<6.0.0

# ============================================
# HTTP Clients (async-first)
# ============================================
httpx>=0.28.0,<0.29.0
aiohttp>=3.11.0,<4.0.0
# Note: Avoid 'requests' in async context - use httpx instead

# ============================================
# Performance & Serialization
# ============================================
orjson>=3.10.11,<4.0.0       # Fast JSON parsing (10x faster)
ujson>=5.10.0,<6.0.0          # Alternative fast JSON
aiofiles>=24.1.0,<25.0.0      # Async file operations
python-multipart>=0.0.17      # Form/file uploads

# ============================================
# Security & Authentication
# ============================================
python-jose[cryptography]>=3.3.0,<4.0.0
passlib[bcrypt]>=1.7.4,<2.0.0
argon2-cffi>=23.1.0,<24.0.0   # Modern password hashing

# ============================================
# Observability & Monitoring
# ============================================
structlog>=24.4.0,<25.0.0     # Structured logging
python-json-logger>=2.0.7     # JSON log formatting
# opentelemetry-api>=1.28.0   # Distributed tracing (optional)
# opentelemetry-sdk>=1.28.0   # Tracing SDK (optional)
# prometheus-fastapi-instrumentator>=7.0.0  # Metrics (optional)

# ============================================
# Environment & Configuration
# ============================================
python-dotenv>=1.0.1,<2.0.0

# ============================================
# Speech & Audio Processing
# ============================================
openai-whisper>=20231117
ffmpeg-python>=0.2.0,<0.3.0
gtts>=2.5.0,<3.0.0

# ============================================
# RAG / Vector Embeddings / ML
# ============================================
sentence-transformers>=3.3.0,<4.0.0
faiss-cpu>=1.9.0,<2.0.0
pypdf>=5.1.0,<6.0.0
numpy>=1.26.0,<2.0.0          # NumPy 2.x compatibility

# ============================================
# Utilities
# ============================================
tenacity>=9.0.0,<10.0.0       # Retry logic with decorators
python-dateutil>=2.9.0        # Date parsing utilities

# ============================================
# Development & Testing (optional)
# ============================================
# pytest>=8.3.0
# pytest-asyncio>=0.24.0
# httpx[http2]>=0.28.0        # For async testing
# ruff>=0.8.0                  # Fast Python linter
# mypy>=1.13.0                 # Type checking
